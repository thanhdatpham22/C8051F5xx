C51 COMPILER V9.54   APPLICATION                                                           04/18/2025 16:51:38 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE APPLICATION
OBJECT MODULE PLACED IN application.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.exe application.c DB OE BR INCDIR(c:\SiLabs\MCU_4\Inc)

line level    source

   1          #include <compiler_defs.h>
   2          #include <C8051F580_defs.h>
   3          #include "config.h"
*** WARNING C323 IN LINE 12 OF config.h: newline expected, extra characters found
   4          #include "timer.h"
*** WARNING C323 IN LINE 11 OF timer.h: newline expected, extra characters found
   5          #include "uart.h"
*** WARNING C323 IN LINE 16 OF uart.h: newline expected, extra characters found
   6          #include "spi.h"
*** WARNING C323 IN LINE 20 OF spi.h: newline expected, extra characters found
   7          #include <stdio.h>
   8          /*-------------------------------------------------*/
   9          #define IGN_SW_ON  0x03
  10          
  11          
  12          /*---------------------------------------------------*/
  13          extern SEGMENT_VARIABLE(UART1_Buffer[UART1_BUFFERSIZE], U8, SEG_XDATA);
  14          
  15          extern U8 UART1_Buffer_Size;
  16          /*-------------------------------------------------*/
  17          
  18          void mcu_config(void);
  19          void application (void);
  20          
  21          
  22          /*-------------------------------------------------*/
  23          void mcu_config(void)
  24          {
  25   1              SFRPAGE = ACTIVE_PAGE;
  26   1      
  27   1              PCA0_Init();                   
  28   1              PORT_Init();                        
  29   1              SYSCLK_Init ();                     
  30   1              UART1_Init();
  31   1              Timer0_Init();
  32   1              TIMER2_Init();
  33   1              SPI0_Init();
  34   1              Can_Init();
*** WARNING C206 IN LINE 34 OF application.c: 'Can_Init': missing function-prototype
  35   1              EA = 1;
  36   1      
  37   1              SFRPAGE = ACTIVE2_PAGE;
  38   1      }
  39          
  40          
  41          
  42          void application (void)
  43          {
  44   1              U8 i;
  45   1              U16 address;                        // EEPROM address
  46   1              U8 test_byte; 
  47   1          //----------------Funtion------------------------------
  48   1          mcu_config();
  49   1              LEDY = 1;  
  50   1              printf("Filling with 0xFF's...\n");
C51 COMPILER V9.54   APPLICATION                                                           04/18/2025 16:51:38 PAGE 2   

  51   1              for (address = 0; address < EEPROM_CAPACITY; address++)
  52   1          {
  53   2                     test_byte = 0xFF;
  54   2                     EEPROM_Write (address, test_byte);
  55   2      
  56   2                     // Print status to UART0
  57   2                     if ((address % 16) == 0)
  58   2                     {
  59   3                        printf ("\nWriting 0x%04x: %02x ", address, (U16)test_byte);
  60   3                        LEDY = !LEDY;
  61   3                     }
  62   2                     else 
  63   2                     {
  64   3                        printf ("%02x ", (U16)test_byte); 
  65   3                     }
  66   2           }
  67   1      
  68   1                 // Verify EEPROM with 0xFF's
  69   1                 printf("\n\nVerifying 0xFF's...\n");
  70   1                 for (address = 0; address < EEPROM_CAPACITY; address++)
  71   1                 {
  72   2                    test_byte = EEPROM_Read (address);
  73   2      
  74   2                    // Print status to UART0
  75   2                    if ((address % 16) == 0)
  76   2                    {
  77   3                       printf ("\nVerifying 0x%04x: %02x ", address, (U16)test_byte);
  78   3                       LEDY = !LEDY;
  79   3                    }
  80   2                    else
  81   2                    {
  82   3                       printf ("%02x ", (U16)test_byte);
  83   3                    }
  84   2      
  85   2                    if (test_byte != 0xFF)
  86   2                    {
  87   3                       LEDY = 0;
  88   3                       printf ("Error at %u\n", address);
  89   3                       while (1);                    // Stop here on error (for debugging)
  90   3                    }
  91   2                 }
  92   1       
  93   1              printf ("\n\nVerification success!\n");
  94   1      
  95   1          while (1)                           // Loop forever
  96   1          {
  97   2            LEDY = !LEDY;    
  98   2                //for(i = 0; i < UART1_Buffer_Size; i++)
  99   2                //{
 100   2                      //printf("%c",UART1_Buffer[i]);
 101   2                //}      
 102   2                printf("\r\n");            // Flash LED when done (all verified)
 103   2            delay_ms (1000);
 104   2          }
 105   1      }
*** WARNING C280 IN LINE 44 OF application.c: 'i': unreferenced local variable
 106          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    255    ----
   CONSTANT SIZE    =    142    ----
C51 COMPILER V9.54   APPLICATION                                                           04/18/2025 16:51:38 PAGE 3   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  6 WARNING(S),  0 ERROR(S)
