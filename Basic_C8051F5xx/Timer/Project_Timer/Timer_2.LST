C51 COMPILER V9.54   TIMER_2                                                               04/24/2025 13:39:01 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE TIMER_2
OBJECT MODULE PLACED IN Timer_2.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.exe Timer_2.c DB OE BR INCDIR(c:\SiLabs\MCU_4\Inc)

line level    source

   1          #include <compiler_defs.h>
   2          #include <C8051F580_defs.h>
   3          
   4          static unsigned long count = 0;
   5          
   6          void _CONFIG_TIMER2(void)
   7          {
   8   1              U8 SFRPAGE_save = SFRPAGE;
   9   1          SFRPAGE = ACTIVE_PAGE;
  10   1              CKCON  |= 0x00;
  11   1              TMR2CN &= ~0x01;
  12   1      
  13   1              TMR2RL = (65536 -2000);
  14   1              TMR2 = TMR2RL;
  15   1              TMR2CN = 0x04;
  16   1              ET2 = 1;
  17   1              SFRPAGE = SFRPAGE_save;
  18   1      
  19   1      }
  20          
  21          INTERRUPT (TIMER2_ISR, INTERRUPT_TIMER2)
  22          {
  23   1              TMR2CN &= ~0x80;  // Clear TF2 (bit 7)
  24   1              count++;
  25   1      }
  26          
  27          void delay_t2_ms(unsigned long ms)
  28          {
  29   1              unsigned long start = count;
  30   1              while((count - start) <ms);
  31   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    117    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
